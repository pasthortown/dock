(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{C9Of:function(t,e,n){"use strict";n.r(e);var o=n("QJY3"),i=n("Valr"),c=n("DUip"),a=n("JYeP"),r=n("eALl"),l=n("AytR"),s=n("TYT/"),b=n("cUzu"),d=function(){function t(t){this.http=t}return t.prototype.buildAll=function(t){return this.http.post(l.a.api_lscodegenerator+"buildAll",JSON.stringify(t)).toPromise().then((function(t){return t})).catch((function(t){console.log(t)}))},t.prototype.buildMany2ManyRelationships=function(t){return this.http.post(l.a.api_lscodegenerator+"saveMigrationOfMany2Many",JSON.stringify(t)).toPromise().then((function(t){return t})).catch((function(t){console.log(t)}))},t.\u0275fac=function(e){return new(e||t)(s.ac(b.a))},t.\u0275prov=s.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),u=function(){return function(){this.fromSingular="",this.toSingular="",this.fromPlural="",this.toPlural="",this.kind="",this.estilo="normalRelacion"}}(),p=function(){return function(){this.name="",this.type="string",this.size=0,this.group="fillable",this.hasSize=!0,this.canNull=!0,this.unique=!1}}(),f=function(){return function(){this.namePlural="",this.nameSingular=""}}(),g=function(){return function(){this.estilo="normalModelo",this.MigrationIndex=-1,this.Columns=[],this.RelationShip=[],this.Table=new f,this.RelationShip=[],this.esAdjunto=!1}}(),h=n("MPfV"),S=function(){return function(){this.data_Types=[{name:"bigIncrements",hasSize:!1},{name:"bigInteger",hasSize:!1},{name:"binary",hasSize:!1},{name:"boolean",hasSize:!1},{name:"char",hasSize:!0},{name:"date",hasSize:!1},{name:"dateTime",hasSize:!1},{name:"dateTimeTz",hasSize:!1},{name:"decimal",hasSize:!0},{name:"double",hasSize:!1},{name:"enum",hasSize:!0},{name:"float",hasSize:!0},{name:"geometry",hasSize:!1},{name:"geometryCollection",hasSize:!1},{name:"gmap",hasSize:!1},{name:"increments",hasSize:!1},{name:"integer",hasSize:!1},{name:"ipAddress",hasSize:!1},{name:"json",hasSize:!1},{name:"jsonb",hasSize:!1},{name:"lineString",hasSize:!1},{name:"longText",hasSize:!1},{name:"macAddress",hasSize:!1},{name:"mediumIncrements",hasSize:!1},{name:"mediumInteger",hasSize:!1},{name:"mediumText",hasSize:!1},{name:"morphs",hasSize:!1},{name:"multiLineString",hasSize:!1},{name:"multiPoint",hasSize:!1},{name:"multiPolygon",hasSize:!1},{name:"nullableMorphs",hasSize:!1},{name:"nullableTimestamps",hasSize:!1},{name:"point",hasSize:!1},{name:"polygon",hasSize:!1},{name:"rememberToken",hasSize:!1},{name:"smallIncrements",hasSize:!1},{name:"smallInteger",hasSize:!1},{name:"softDeletes",hasSize:!1},{name:"softDeletesTz",hasSize:!1},{name:"string",hasSize:!0},{name:"text",hasSize:!1},{name:"time",hasSize:!1},{name:"timeTz",hasSize:!1},{name:"timestamp",hasSize:!1},{name:"timestampTz",hasSize:!1},{name:"timestamps",hasSize:!1},{name:"timestampsTz",hasSize:!1},{name:"tinyIncrements",hasSize:!1},{name:"tinyInteger",hasSize:!1},{name:"unsignedBigInteger",hasSize:!1},{name:"unsignedDecimal",hasSize:!0},{name:"unsignedInteger",hasSize:!1},{name:"unsignedMediumInteger",hasSize:!1},{name:"unsignedSmallInteger",hasSize:!1},{name:"unsignedTinyInteger",hasSize:!1},{name:"uuid",hasSize:!1},{name:"year",hasSize:!1}]}}(),m=n("JEAp"),R=n("MnXN"),v=n("s4wE"),M=["pasos"],y=["descargar"];function D(t,e){1&t&&(s.Sb(0,"div",7),s.Sb(1,"button",30),s.Ob(2,"i",31),s.Rb(),s.Rb())}function A(t,e){if(1&t){var n=s.Tb();s.Sb(0,"tr"),s.Sb(1,"td"),s.Dc(2),s.Rb(),s.Sb(3,"td"),s.Dc(4),s.Rb(),s.Sb(5,"td"),s.Sb(6,"div",6),s.Sb(7,"div",7),s.Sb(8,"button",43),s.ec("click",(function(t){s.uc(n);var o=e.$implicit;return s.gc(2).deleteAttachment(o)})),s.Ob(9,"i",44),s.Rb(),s.Sb(10,"button",45),s.ec("click",(function(t){s.uc(n);var o=e.$implicit;return s.gc(2).downloadAttachment(o)})),s.Ob(11,"i",17),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){var o=e.$implicit;s.Ab(2),s.Fc(" ",o.project_attachment_file_name," "),s.Ab(2),s.Fc(" ",o.project_attachment_file_type," ")}}function k(t,e){if(1&t){var n=s.Tb();s.Sb(0,"div",19),s.Sb(1,"div",5),s.Sb(2,"div",32),s.Sb(3,"div",33),s.Sb(4,"span",34),s.Dc(5,"Nombre del Proyecto"),s.Rb(),s.Rb(),s.Sb(6,"input",35),s.ec("ngModelChange",(function(t){return s.uc(n),s.gc().project.name=t})),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(7,"div",19),s.Sb(8,"div",5),s.Sb(9,"div",32),s.Sb(10,"div",33),s.Sb(11,"span",34),s.Dc(12,"Fecha del Proyecto"),s.Rb(),s.Rb(),s.Sb(13,"input",36),s.ec("ngModelChange",(function(t){return s.uc(n),s.gc().project.date=t})),s.hc(14,"date"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(15,"div",37),s.Sb(16,"div",5),s.Sb(17,"div",32),s.Sb(18,"div",33),s.Sb(19,"button",38),s.ec("click",(function(t){return s.uc(n),s.gc(),s.tc(3).click()})),s.Ob(20,"i",39),s.Rb(),s.Rb(),s.Sb(21,"h5",40),s.Sb(22,"strong"),s.Dc(23,"\xa0Adjuntos"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(24,"div",19),s.Sb(25,"div",5),s.Sb(26,"table",41),s.Sb(27,"thead"),s.Sb(28,"th"),s.Dc(29,"Nombre"),s.Rb(),s.Sb(30,"th"),s.Dc(31,"Tipo"),s.Rb(),s.Sb(32,"th"),s.Dc(33,"Opciones"),s.Rb(),s.Rb(),s.Sb(34,"tbody"),s.Bc(35,A,12,2,"tr",42),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){var o=s.gc();s.Ab(6),s.lc("ngModel",o.project.name),s.Ab(7),s.lc("ngModel",s.ic(14,3,o.project.date,"y-MM-dd")),s.Ab(22),s.lc("ngForOf",o.project.attachments)}}function w(t,e){if(1&t){var n=s.Tb();s.Sb(0,"span",60),s.ec("click",(function(t){s.uc(n);var e=s.gc().$implicit;return s.gc(4).selectModel(e)})),s.Dc(1),s.Rb()}if(2&t){var o=s.gc().$implicit;s.Db("form-control ",o.estilo,""),s.Ab(1),s.Gc("",o.MigrationIndex," ",o.Table.nameSingular,"")}}function O(t,e){if(1&t&&(s.Sb(0,"strong"),s.Dc(1),s.Rb()),2&t){var n=s.gc().$implicit;s.Db("form-control text-primary ",n.estilo,""),s.Ab(1),s.Gc("",n.MigrationIndex," ",n.Table.nameSingular,"")}}function C(t,e){if(1&t){var n=s.Tb();s.Sb(0,"div",57),s.Sb(1,"div",32),s.Bc(2,w,2,5,"span",58),s.Bc(3,O,2,5,"strong",48),s.Sb(4,"div",52),s.Sb(5,"button",43),s.ec("click",(function(t){s.uc(n);var o=e.$implicit;return s.gc(4).DeleteModel(o)})),s.Ob(6,"i",59),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){var o=e.$implicit,i=s.gc(4);s.Ab(2),s.lc("ngIf",i.selectedModel!==o),s.Ab(1),s.lc("ngIf",i.selectedModel==o)}}function j(t,e){if(1&t){var n=s.Tb();s.Sb(0,"div",49),s.Sb(1,"div",50),s.Sb(2,"div",5),s.Sb(3,"div",32),s.Sb(4,"div",33),s.Sb(5,"button",51),s.ec("click",(function(t){return s.uc(n),s.gc(3).createNewModel()})),s.Ob(6,"i",39),s.Rb(),s.Rb(),s.Sb(7,"h5",40),s.Sb(8,"strong"),s.Dc(9,"\xa0Modelos/Objetos"),s.Rb(),s.Rb(),s.Sb(10,"div",52),s.Sb(11,"button",53),s.ec("click",(function(t){return s.uc(n),s.gc(3).checkModels()})),s.Ob(12,"i",54),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(13,"div",4),s.Sb(14,"div",55),s.Bc(15,C,7,2,"div",56),s.Rb(),s.Rb(),s.Rb()}if(2&t){var o=s.gc(3);s.Ab(15),s.lc("ngForOf",o.modelos)}}function I(t,e){if(1&t){var n=s.Tb();s.Sb(0,"button",66),s.ec("click",(function(t){return s.uc(n),s.gc(4).hideModels()})),s.Ob(1,"i",67),s.Rb()}}function _(t,e){if(1&t){var n=s.Tb();s.Sb(0,"button",68),s.ec("click",(function(t){return s.uc(n),s.gc(4).showModels()})),s.Ob(1,"i",69),s.Rb()}}function B(t,e){if(1&t){var n=s.Tb();s.Sb(0,"div",37),s.Sb(1,"div",5),s.Sb(2,"div",32),s.Sb(3,"div",33),s.Sb(4,"button",70),s.ec("click",(function(t){return s.uc(n),s.gc(4).addAttribute()})),s.Ob(5,"i",39),s.Rb(),s.Sb(6,"button",71),s.ec("click",(function(t){return s.uc(n),s.gc(4).addAttributeAttachment()})),s.Ob(7,"i",39),s.Dc(8,"\xa0"),s.Ob(9,"i",72),s.Rb(),s.Rb(),s.Sb(10,"h5",40),s.Sb(11,"strong"),s.Dc(12,"\xa0Campos/Atributos"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}}function T(t,e){if(1&t&&(s.Sb(0,"option",93),s.Dc(1),s.Rb()),2&t){var n=e.$implicit;s.mc("value",n.name),s.Ab(1),s.Ec(n.name)}}function z(t,e){if(1&t){var n=s.Tb();s.Sb(0,"input",94),s.ec("ngModelChange",(function(t){return s.uc(n),s.gc().$implicit.size=t})),s.Rb()}if(2&t){var o=s.gc().$implicit;s.lc("ngModel",o.size)}}function P(t,e){1&t&&(s.Sb(0,"strong",95),s.Dc(1,"No Aplica"),s.Rb())}function x(t,e){if(1&t){var n=s.Tb();s.Sb(0,"tr"),s.Sb(1,"td"),s.Sb(2,"input",75),s.ec("ngModelChange",(function(t){return s.uc(n),e.$implicit.name=t})),s.Rb(),s.Rb(),s.Sb(3,"td"),s.Sb(4,"select",76),s.ec("ngModelChange",(function(t){return s.uc(n),e.$implicit.type=t}))("change",(function(t){s.uc(n);var o=e.$implicit;return s.gc(5).checkIfColumnHasSize(o)})),s.Bc(5,T,2,2,"option",77),s.Rb(),s.Rb(),s.Sb(6,"td"),s.Bc(7,z,1,1,"input",78),s.Bc(8,P,2,0,"strong",79),s.Rb(),s.Sb(9,"td"),s.Sb(10,"select",80),s.ec("ngModelChange",(function(t){return s.uc(n),e.$implicit.group=t})),s.Sb(11,"option",81),s.Dc(12,"Fillable"),s.Rb(),s.Sb(13,"option",82),s.Dc(14,"Hidden"),s.Rb(),s.Rb(),s.Rb(),s.Sb(15,"td"),s.Sb(16,"div",83),s.Sb(17,"input",84),s.ec("ngModelChange",(function(t){return s.uc(n),e.$implicit.canNull=t})),s.Rb(),s.Sb(18,"label",85),s.Ob(19,"span",86),s.Ob(20,"span",87),s.Rb(),s.Rb(),s.Rb(),s.Sb(21,"td"),s.Sb(22,"div",83),s.Sb(23,"input",84),s.ec("ngModelChange",(function(t){return s.uc(n),e.$implicit.unique=t})),s.Rb(),s.Sb(24,"label",85),s.Ob(25,"span",86),s.Ob(26,"span",87),s.Rb(),s.Rb(),s.Rb(),s.Sb(27,"td"),s.Sb(28,"div",88),s.Sb(29,"div",7),s.Sb(30,"button",89),s.ec("click",(function(t){s.uc(n);var o=e.$implicit;return s.gc(5).deleteColumn(o)})),s.Ob(31,"i",90),s.Rb(),s.Sb(32,"button",91),s.ec("click",(function(t){s.uc(n);var o=e.$implicit;return s.gc(5).cloneColumn(o)})),s.Ob(33,"i",92),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){var o=e.$implicit,i=s.gc(5);s.Ab(2),s.lc("ngModel",o.name),s.Ab(2),s.lc("ngModel",o.type),s.Ab(1),s.lc("ngForOf",i.dataTypes),s.Ab(2),s.lc("ngIf",o.hasSize),s.Ab(1),s.lc("ngIf",!o.hasSize),s.Ab(2),s.lc("ngModel",o.group),s.Ab(7),s.nc("id","",o.name,"CaNull"),s.lc("ngModel",o.canNull),s.Ab(1),s.nc("for","",o.name,"CaNull"),s.Ab(5),s.nc("id","",o.name,"Unique"),s.lc("ngModel",o.unique),s.Ab(1),s.nc("for","",o.name,"Unique")}}function F(t,e){if(1&t&&(s.Sb(0,"div",4),s.Sb(1,"div",73),s.Sb(2,"table",74),s.Sb(3,"thead"),s.Sb(4,"th"),s.Dc(5,"Nombre"),s.Rb(),s.Sb(6,"th"),s.Dc(7,"Tipo"),s.Rb(),s.Sb(8,"th"),s.Dc(9,"Tama\xf1o"),s.Rb(),s.Sb(10,"th"),s.Dc(11,"Grupo"),s.Rb(),s.Sb(12,"th"),s.Dc(13,"Acepta Nulos"),s.Rb(),s.Sb(14,"th"),s.Dc(15,"\xdanico"),s.Rb(),s.Sb(16,"th"),s.Dc(17,"Opciones"),s.Rb(),s.Rb(),s.Sb(18,"tbody"),s.Bc(19,x,34,12,"tr",42),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t){var n=s.gc(4);s.Ab(19),s.lc("ngForOf",n.selectedModel.Columns)}}function E(t,e){if(1&t){var n=s.Tb();s.Sb(0,"div"),s.Sb(1,"div",50),s.Sb(2,"div",5),s.Sb(3,"div",32),s.Sb(4,"div",33),s.Bc(5,I,2,0,"button",61),s.Bc(6,_,2,0,"button",62),s.Rb(),s.Sb(7,"h5",40),s.Sb(8,"strong"),s.Dc(9),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(10,"div",4),s.Sb(11,"div",63),s.Sb(12,"div",32),s.Sb(13,"div",33),s.Sb(14,"span",34),s.Dc(15,"Nombre en Singular"),s.Rb(),s.Rb(),s.Sb(16,"input",35),s.ec("ngModelChange",(function(t){return s.uc(n),s.gc(3).selectedModel.Table.nameSingular=t})),s.Rb(),s.Rb(),s.Rb(),s.Sb(17,"div",63),s.Sb(18,"div",32),s.Sb(19,"div",33),s.Sb(20,"span",34),s.Dc(21,"Nombre en Plural"),s.Rb(),s.Rb(),s.Sb(22,"input",35),s.ec("ngModelChange",(function(t){return s.uc(n),s.gc(3).selectedModel.Table.namePlural=t})),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Bc(23,B,13,0,"div",64),s.Bc(24,F,20,1,"div",65),s.Rb()}if(2&t){var o=s.gc(3);s.Cb(o.sizeOfModelData),s.Ab(5),s.lc("ngIf",!o.isHideModels),s.Ab(1),s.lc("ngIf",o.isHideModels),s.Ab(3),s.Fc("\xa0Datos del Modelo/Objeto ( ",o.selectedModel.Table.nameSingular," )"),s.Ab(7),s.lc("ngModel",o.selectedModel.Table.nameSingular),s.Ab(6),s.lc("ngModel",o.selectedModel.Table.namePlural),s.Ab(1),s.lc("ngIf",""!==o.selectedModel.Table.nameSingular&&""!==o.selectedModel.Table.namePlural),s.Ab(1),s.lc("ngIf",""!==o.selectedModel.Table.nameSingular&&""!==o.selectedModel.Table.namePlural)}}function N(t,e){if(1&t&&(s.Sb(0,"div",19),s.Bc(1,j,16,1,"div",47),s.Bc(2,E,25,10,"div",48),s.Rb()),2&t){var n=s.gc(2);s.Ab(1),s.lc("ngIf",!n.isHideModels),s.Ab(1),s.lc("ngIf",-1!=n.selectedModel.MigrationIndex)}}function $(t,e){1&t&&(s.Sb(0,"ngb-tab",46),s.Bc(1,N,3,2,"ng-template",23),s.Rb())}function L(t,e){if(1&t&&(s.Sb(0,"option",93),s.Dc(1),s.Rb()),2&t){var n=e.$implicit;s.mc("value",n.Table.nameSingular),s.Ab(1),s.Fc(" ",n.Table.nameSingular," ")}}function Q(t,e){1&t&&(s.Sb(0,"option",110),s.Dc(1,"Uno a Uno"),s.Rb())}function U(t,e){1&t&&(s.Sb(0,"option",111),s.Dc(1,"Uno a Muchos"),s.Rb())}function J(t,e){1&t&&(s.Sb(0,"option",112),s.Dc(1,"Muchos a Muchos"),s.Rb())}function H(t,e){1&t&&(s.Sb(0,"option",113),s.Dc(1,"Contiene Uno"),s.Rb())}function G(t,e){1&t&&(s.Sb(0,"option",114),s.Dc(1,"Contiene Varios"),s.Rb())}function W(t,e){if(1&t&&(s.Sb(0,"option",93),s.Dc(1),s.Rb()),2&t){var n=e.$implicit;s.mc("value",n.Table.nameSingular),s.Ab(1),s.Fc(" ",n.Table.nameSingular," ")}}function q(t,e){if(1&t){var n=s.Tb();s.Sb(0,"tr"),s.Sb(1,"td"),s.Sb(2,"select",80),s.ec("ngModelChange",(function(t){return s.uc(n),e.$implicit.fromSingular=t})),s.Sb(3,"option",102),s.Dc(4,"Seleccione"),s.Rb(),s.Sb(5,"option",103),s.Dc(6,"User"),s.Rb(),s.Bc(7,L,2,2,"option",77),s.Rb(),s.Rb(),s.Sb(8,"td"),s.Sb(9,"select",80),s.ec("ngModelChange",(function(t){return s.uc(n),e.$implicit.kind=t})),s.Sb(10,"option",102),s.Dc(11,"Seleccione"),s.Rb(),s.Bc(12,Q,2,0,"option",104),s.Bc(13,U,2,0,"option",105),s.Bc(14,J,2,0,"option",106),s.Bc(15,H,2,0,"option",107),s.Bc(16,G,2,0,"option",108),s.Rb(),s.Rb(),s.Sb(17,"td"),s.Sb(18,"select",80),s.ec("ngModelChange",(function(t){return s.uc(n),e.$implicit.toSingular=t})),s.Sb(19,"option",102),s.Dc(20,"Seleccione"),s.Rb(),s.Sb(21,"option",103),s.Dc(22,"User"),s.Rb(),s.Bc(23,W,2,2,"option",77),s.Rb(),s.Rb(),s.Sb(24,"td"),s.Sb(25,"div",88),s.Sb(26,"div",7),s.Sb(27,"button",109),s.ec("click",(function(t){s.uc(n);var o=e.$implicit;return s.gc(3).deleteRelationship(o)})),s.Ob(28,"i",90),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){var o=e.$implicit,i=s.gc(3);s.Cb(o.estilo),s.Ab(2),s.lc("ngModel",o.fromSingular),s.Ab(5),s.lc("ngForOf",i.modelos),s.Ab(2),s.lc("ngModel",o.kind),s.Ab(3),s.lc("ngIf",i.isSQLBDD),s.Ab(1),s.lc("ngIf",i.isSQLBDD),s.Ab(1),s.lc("ngIf",i.isSQLBDD),s.Ab(1),s.lc("ngIf",!i.isSQLBDD),s.Ab(1),s.lc("ngIf",!i.isSQLBDD),s.Ab(2),s.lc("ngModel",o.toSingular),s.Ab(5),s.lc("ngForOf",i.modelos)}}function V(t,e){if(1&t){var n=s.Tb();s.Sb(0,"div",97),s.Sb(1,"div",5),s.Sb(2,"div",32),s.Sb(3,"div",33),s.Sb(4,"button",51),s.ec("click",(function(t){return s.uc(n),s.gc(2).createNewRelationship()})),s.Ob(5,"i",39),s.Rb(),s.Rb(),s.Sb(6,"h5",40),s.Sb(7,"strong"),s.Dc(8,"\xa0Relaciones"),s.Rb(),s.Rb(),s.Sb(9,"div",52),s.Sb(10,"button",53),s.ec("click",(function(t){return s.uc(n),s.gc(2).checkRelationships()})),s.Ob(11,"i",54),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(12,"div",19),s.Sb(13,"div",5),s.Sb(14,"h4"),s.Sb(15,"strong"),s.Dc(16,"\xbfEl proyecto utilizar\xe1 una base de datos SQL?"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(17,"div",98),s.Sb(18,"div",5),s.Sb(19,"div",83),s.Sb(20,"input",99),s.ec("ngModelChange",(function(t){return s.uc(n),s.gc(2).isSQLBDD=t})),s.Rb(),s.Sb(21,"label",100),s.Ob(22,"span",86),s.Ob(23,"span",87),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(24,"div",4),s.Sb(25,"div",55),s.Sb(26,"table",74),s.Sb(27,"thead"),s.Sb(28,"th"),s.Dc(29,"Desde"),s.Rb(),s.Sb(30,"th"),s.Dc(31,"Tipo"),s.Rb(),s.Sb(32,"th"),s.Dc(33,"Hasta"),s.Rb(),s.Sb(34,"th"),s.Dc(35,"Opciones"),s.Rb(),s.Rb(),s.Sb(36,"tbody"),s.Bc(37,q,29,13,"tr",101),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){var o=s.gc(2);s.Ab(20),s.lc("ngModel",o.isSQLBDD),s.Ab(17),s.lc("ngForOf",o.relaciones)}}function Y(t,e){1&t&&(s.Sb(0,"ngb-tab",96),s.Bc(1,V,38,2,"ng-template",23),s.Rb())}function X(t,e){1&t&&(s.Sb(0,"div",98),s.Sb(1,"div",5),s.Sb(2,"div",128),s.Ob(3,"div",129),s.Rb(),s.Rb(),s.Rb())}function K(t,e){1&t&&(s.Sb(0,"div",98),s.Sb(1,"div",5),s.Sb(2,"div",128),s.Ob(3,"div",129),s.Rb(),s.Rb(),s.Rb())}function Z(t,e){if(1&t){var n=s.Tb();s.Sb(0,"div",19),s.Sb(1,"div",116),s.Sb(2,"div",117),s.Ob(3,"img",118),s.Sb(4,"div",119),s.Sb(5,"h5",120),s.Sb(6,"strong"),s.Dc(7,"Bootstrap 4"),s.Rb(),s.Rb(),s.Sb(8,"p",121),s.Dc(9," Build responsive, mobile-first projects on the web with the world\u2019s most popular front-end component library."),s.Ob(10,"br"),s.Ob(11,"br"),s.Dc(12," Bootstrap is an open source toolkit for developing with HTML, CSS, and JS. Quickly prototype your ideas or build your entire app with our Sass variables and mixins, responsive grid system, extensive prebuilt components, and powerful plugins built on jQuery. "),s.Sb(13,"strong"),s.Sb(14,"a",122),s.Dc(15,"Aprender M\xe1s"),s.Rb(),s.Rb(),s.Rb(),s.Bc(16,X,4,0,"div",123),s.Sb(17,"div",4),s.Sb(18,"div",124),s.Sb(19,"button",125),s.ec("click",(function(t){return s.uc(n),s.gc(2).buildAll("bootstrap")})),s.Dc(20,"Construir"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(21,"div",116),s.Sb(22,"div",117),s.Ob(23,"img",126),s.Sb(24,"div",119),s.Sb(25,"h5",120),s.Sb(26,"strong"),s.Dc(27,"Metro 4"),s.Rb(),s.Rb(),s.Sb(28,"p",121),s.Dc(29," Sleek, intuitive, and powerful front-end framework for faster and easier web development. Build responsive, mobile-first projects on the web with the first front-end component library in Metro Style."),s.Ob(30,"br"),s.Ob(31,"br"),s.Dc(32," Metro 4 is an MIT-licensed open source project. It's an independent project with its ongoing development made possible entirely thanks to the support by these. "),s.Sb(33,"strong"),s.Sb(34,"a",127),s.Dc(35,"Aprender M\xe1s"),s.Rb(),s.Rb(),s.Rb(),s.Bc(36,K,4,0,"div",123),s.Sb(37,"div",4),s.Sb(38,"div",124),s.Sb(39,"button",125),s.ec("click",(function(t){return s.uc(n),s.gc(2).buildAll("metro")})),s.Dc(40,"Construir"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){var o=s.gc(2);s.Ab(16),s.lc("ngIf",o.pendienteBootstrap),s.Ab(3),s.lc("disabled",o.pendienteMetro||o.pendienteBootstrap),s.Ab(17),s.lc("ngIf",o.pendienteMetro),s.Ab(3),s.lc("disabled",o.pendienteMetro||o.pendienteBootstrap)}}function tt(t,e){1&t&&(s.Sb(0,"ngb-tab",115),s.Bc(1,Z,41,4,"ng-template",23),s.Rb())}function et(t,e){if(1&t&&(s.Sb(0,"span",138),s.Dc(1),s.Rb()),2&t){var n=s.gc(2).$implicit;s.Ab(1),s.Ec(n.log.Status)}}function nt(t,e){if(1&t&&(s.Sb(0,"span",139),s.Dc(1),s.Rb()),2&t){var n=s.gc(2).$implicit;s.Ab(1),s.Ec(n.log.Status)}}function ot(t,e){if(1&t&&(s.Sb(0,"div",4),s.Sb(1,"div",5),s.Sb(2,"table",134),s.Sb(3,"thead"),s.Sb(4,"th",135),s.Dc(5,"Migraci\xf3n de la Relaci\xf3n Muchos a Muchos"),s.Rb(),s.Rb(),s.Sb(6,"tbody"),s.Sb(7,"tr"),s.Sb(8,"td"),s.Dc(9),s.Bc(10,et,2,1,"span",136),s.Bc(11,nt,2,1,"span",137),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t){var n=s.gc().$implicit;s.Ab(9),s.Fc(" ",n.log.Relationship.nameSingular,"\xa0 "),s.Ab(1),s.lc("ngIf","Success"==n.log.Status),s.Ab(1),s.lc("ngIf","Success"!==n.log.Status)}}function it(t,e){if(1&t&&(s.Sb(0,"span",138),s.Dc(1),s.Rb()),2&t){var n=s.gc(2).$implicit;s.Ab(1),s.Ec(n.log.Model_File.Status)}}function ct(t,e){if(1&t&&(s.Sb(0,"span",139),s.Dc(1),s.Rb()),2&t){var n=s.gc(2).$implicit;s.Ab(1),s.Ec(n.log.Model_File.Status)}}function at(t,e){if(1&t&&(s.Sb(0,"span",138),s.Dc(1),s.Rb()),2&t){var n=s.gc(2).$implicit;s.Ab(1),s.Ec(n.log.Migration_File.Status)}}function rt(t,e){if(1&t&&(s.Sb(0,"span",139),s.Dc(1),s.Rb()),2&t){var n=s.gc(2).$implicit;s.Ab(1),s.Ec(n.log.Migration_File.Status)}}function lt(t,e){if(1&t&&(s.Sb(0,"span",138),s.Dc(1),s.Rb()),2&t){var n=s.gc(2).$implicit;s.Ab(1),s.Ec(n.log.Controller_File.Status)}}function st(t,e){if(1&t&&(s.Sb(0,"span",139),s.Dc(1),s.Rb()),2&t){var n=s.gc(2).$implicit;s.Ab(1),s.Ec(n.log.Controller_File.Status)}}function bt(t,e){if(1&t&&(s.Sb(0,"span",138),s.Dc(1),s.Rb()),2&t){var n=s.gc(2).$implicit;s.Ab(1),s.Ec(n.log.ModelTS_File.Status)}}function dt(t,e){if(1&t&&(s.Sb(0,"span",139),s.Dc(1),s.Rb()),2&t){var n=s.gc(2).$implicit;s.Ab(1),s.Ec(n.log.ModelTS_File.Status)}}function ut(t,e){if(1&t&&(s.Sb(0,"span",138),s.Dc(1),s.Rb()),2&t){var n=s.gc(2).$implicit;s.Ab(1),s.Ec(n.log.ServiceTS_File.Status)}}function pt(t,e){if(1&t&&(s.Sb(0,"span",139),s.Dc(1),s.Rb()),2&t){var n=s.gc(2).$implicit;s.Ab(1),s.Ec(n.log.ServiceTS_File.Status)}}function ft(t,e){if(1&t&&(s.Sb(0,"span",138),s.Dc(1),s.Rb()),2&t){var n=s.gc(2).$implicit;s.Ab(1),s.Ec(n.log.Client_Layout.Status)}}function gt(t,e){if(1&t&&(s.Sb(0,"span",139),s.Dc(1),s.Rb()),2&t){var n=s.gc(2).$implicit;s.Ab(1),s.Ec(n.log.Client_Layout.Status)}}function ht(t,e){if(1&t&&(s.Sb(0,"div",4),s.Sb(1,"div",5),s.Sb(2,"table",134),s.Sb(3,"thead"),s.Sb(4,"th",140),s.Dc(5),s.Rb(),s.Rb(),s.Sb(6,"thead"),s.Sb(7,"th",141),s.Dc(8,"BackEnd"),s.Rb(),s.Sb(9,"th",141),s.Dc(10,"FrontEnd"),s.Rb(),s.Rb(),s.Sb(11,"thead"),s.Sb(12,"th"),s.Dc(13,"Modelo"),s.Rb(),s.Sb(14,"th"),s.Dc(15,"Migraci\xf3n"),s.Rb(),s.Sb(16,"th"),s.Dc(17,"Controlador"),s.Rb(),s.Sb(18,"th"),s.Dc(19,"Modelo TS"),s.Rb(),s.Sb(20,"th"),s.Dc(21,"Servicio TS"),s.Rb(),s.Sb(22,"th"),s.Dc(23,"Layout TS"),s.Rb(),s.Rb(),s.Sb(24,"tbody"),s.Sb(25,"tr"),s.Sb(26,"td"),s.Bc(27,it,2,1,"span",136),s.Bc(28,ct,2,1,"span",137),s.Rb(),s.Sb(29,"td"),s.Bc(30,at,2,1,"span",136),s.Bc(31,rt,2,1,"span",137),s.Rb(),s.Sb(32,"td"),s.Bc(33,lt,2,1,"span",136),s.Bc(34,st,2,1,"span",137),s.Rb(),s.Sb(35,"td"),s.Bc(36,bt,2,1,"span",136),s.Bc(37,dt,2,1,"span",137),s.Rb(),s.Sb(38,"td"),s.Bc(39,ut,2,1,"span",136),s.Bc(40,pt,2,1,"span",137),s.Rb(),s.Sb(41,"td"),s.Bc(42,ft,2,1,"span",136),s.Bc(43,gt,2,1,"span",137),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t){var n=s.gc().$implicit;s.Ab(5),s.Ec(n.log.Name),s.Ab(22),s.lc("ngIf","Success"==n.log.Model_File.Status),s.Ab(1),s.lc("ngIf","Success"!==n.log.Model_File.Status),s.Ab(2),s.lc("ngIf","Success"==n.log.Migration_File.Status),s.Ab(1),s.lc("ngIf","Success"!==n.log.Migration_File.Status),s.Ab(2),s.lc("ngIf","Success"==n.log.Controller_File.Status),s.Ab(1),s.lc("ngIf","Success"!==n.log.Controller_File.Status),s.Ab(2),s.lc("ngIf","Success"==n.log.ModelTS_File.Status),s.Ab(1),s.lc("ngIf","Success"!==n.log.ModelTS_File.Status),s.Ab(2),s.lc("ngIf","Success"==n.log.ServiceTS_File.Status),s.Ab(1),s.lc("ngIf","Success"!==n.log.ServiceTS_File.Status),s.Ab(2),s.lc("ngIf","Success"==n.log.Client_Layout.Status),s.Ab(1),s.lc("ngIf","Success"!==n.log.Client_Layout.Status)}}function St(t,e){if(1&t&&(s.Sb(0,"div",19),s.Sb(1,"div",132),s.Bc(2,ot,12,3,"div",133),s.Bc(3,ht,44,13,"div",133),s.Rb(),s.Rb()),2&t){var n=e.$implicit;s.Ab(1),s.lc("ngSwitch",n.type),s.Ab(1),s.lc("ngSwitchCase","Relationship"),s.Ab(1),s.lc("ngSwitchCase","Model")}}function mt(t,e){if(1&t&&(s.Sb(0,"div",19),s.Sb(1,"div",5),s.Sb(2,"h3"),s.Dc(3,"RESULTADOS:"),s.Rb(),s.Rb(),s.Rb(),s.Bc(4,St,4,3,"div",131)),2&t){var n=s.gc(2);s.Ab(4),s.lc("ngForOf",n.log_result)}}function Rt(t,e){1&t&&(s.Sb(0,"ngb-tab",130),s.Bc(1,mt,5,1,"ng-template",23),s.Rb())}function vt(t,e){1&t&&(s.Sb(0,"strong",147),s.Dc(1,"* El nombre del proyecto se encuentra vac\xedo. Puede solucionarlo en el Paso 1."),s.Rb())}function Mt(t,e){1&t&&(s.Sb(0,"button",148),s.Dc(1,"Anterior"),s.Rb())}function yt(t,e){if(1&t){var n=s.Tb();s.Sb(0,"button",149),s.ec("click",(function(t){return s.uc(n),s.gc(2).pasoAnterior()})),s.Dc(1,"Anterior"),s.Rb()}}function Dt(t,e){1&t&&(s.Sb(0,"button",150),s.Dc(1,"Siguiente"),s.Rb())}function At(t,e){if(1&t){var n=s.Tb();s.Sb(0,"button",151),s.ec("click",(function(t){return s.uc(n),s.gc(2).pasoSiguiente()})),s.Dc(1,"Siguiente"),s.Rb()}}function kt(t,e){if(1&t&&(s.Sb(0,"div",19),s.Bc(1,vt,2,0,"strong",142),s.Sb(2,"div",95),s.Bc(3,Mt,2,0,"button",143),s.Bc(4,yt,2,0,"button",144),s.Bc(5,Dt,2,0,"button",145),s.Bc(6,At,2,0,"button",146),s.Rb(),s.Rb()),2&t){var n=s.gc();s.Ab(1),s.lc("ngIf",""==n.project.name),s.Ab(2),s.lc("ngIf",1==n.process_step),s.Ab(1),s.lc("ngIf",n.process_step>1),s.Ab(1),s.lc("ngIf",4==n.process_step&&!(""==n.project.name&&0==n.modelos.length)),s.Ab(1),s.lc("ngIf",n.process_step<4&&!(""==n.project.name&&0==n.modelos.length))}}function wt(t,e){1&t&&s.Ob(0,"span",162)}function Ot(t,e){if(1&t){var n=s.Tb();s.Sb(0,"tr",159),s.ec("click",(function(t){s.uc(n);var o=e.$implicit;return s.gc(2).selectProjectBDD(o)}))("dblclick",(function(t){return s.uc(n),(0,s.gc().close)("aceptar")})),s.Sb(1,"td",160),s.Bc(2,wt,1,0,"span",161),s.Rb(),s.Sb(3,"td"),s.Dc(4),s.hc(5,"date"),s.Rb(),s.Sb(6,"td"),s.Dc(7),s.Rb(),s.Rb()}if(2&t){var o=e.$implicit,i=s.gc(2);s.Ab(2),s.lc("ngIf",i.selectedProjectBDD===o),s.Ab(2),s.Fc(" ",s.ic(5,3,o.date,"y-MM-dd")," "),s.Ab(3),s.Fc(" ",o.name," ")}}function Ct(t,e){if(1&t&&(s.Sb(0,"div",152),s.Sb(1,"h4",153),s.Sb(2,"strong"),s.Dc(3,"Mis Proyectos"),s.Rb(),s.Rb(),s.Rb(),s.Sb(4,"div",154),s.Sb(5,"div",155),s.Sb(6,"table",41),s.Sb(7,"thead"),s.Ob(8,"th"),s.Sb(9,"th"),s.Dc(10,"Fecha"),s.Rb(),s.Sb(11,"th"),s.Dc(12,"Nombre"),s.Rb(),s.Rb(),s.Sb(13,"tbody"),s.Bc(14,Ot,8,6,"tr",156),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(15,"div",157),s.Sb(16,"button",158),s.ec("click",(function(t){return(0,e.close)("aceptar")})),s.Dc(17," Aceptar "),s.Rb(),s.Rb()),2&t){var n=s.gc();s.Ab(14),s.lc("ngForOf",n.my_projects)}}var jt=[{path:"",component:function(){function t(t,e,n,o){this.modalDialog=t,this.toastr=e,this.codeGeneratorDataService=n,this.projectDataService=o,this.process_step=1,this.project=new h.a,this.my_projects=[],this.isHideModels=!1,this.pendienteBootstrap=!1,this.pendienteMetro=!1,this.log_result=[],this.userData=null,this.sizeOfModelData="col-7",this.modelos=[],this.relaciones=[],this.selectedModel=new g,this.selectedProjectBDD=null,this.dataTypes=(new S).data_Types,this.isSQLBDD=!0}return t.prototype.ngOnInit=function(){this.userData=JSON.parse(sessionStorage.getItem("user"))},t.prototype.loadProjectFromDatabase=function(t){var e=this;this.loadMyProjects(),this.modalDialog.open(t,{centered:!0,size:"lg"}).result.then((function(t){"aceptar"===t&&e.loadMySelectedProject()}),(function(t){}))},t.prototype.loadMySelectedProject=function(){var t=this;this.newProject(),this.projectDataService.get(this.selectedProjectBDD.id).then((function(e){var n=e.Project,o=JSON.parse(n.structure.toString());t.modelos=o.modelos,t.relaciones=o.relaciones,t.project=n,t.isSQLBDD="SQL"==o.type||void 0===o.type||null==o.type,t.project.date=new Date(n.date.toString()),t.project.attachments=e.attach,t.saveRelationShips(),t.sortModels()})).catch((function(t){console.log(t)}))},t.prototype.loadMyProjects=function(){var t=this;this.my_projects=[],this.projectDataService.myProjects(this.userData.id,1).then((function(e){t.my_projects=e})).catch((function(t){console.log(t)}))},t.prototype.hideModels=function(){this.isHideModels=!0,this.sizeOfModelData="col-12"},t.prototype.showModels=function(){this.isHideModels=!1,this.sizeOfModelData="col-7"},t.prototype.newProject=function(){this.process_step=1,this.pasos.select(this.process_step.toString()),this.modelos=[],this.selectedModel=new g,this.relaciones=[],this.project=new h.a,this.pendienteBootstrap=!1,this.pendienteMetro=!1,this.isHideModels=!1,this.sizeOfModelData="col-7",this.isSQLBDD=!0},t.prototype.pasoAnterior=function(){this.process_step-=1,this.pasos.select(this.process_step.toString()),this.saveRelationShips()},t.prototype.pasoSiguiente=function(){this.process_step+=1,this.pasos.select(this.process_step.toString()),this.saveRelationShips()},t.prototype.downloadCurrentWork=function(){this.saveRelationShips();var t=new Blob([this.buildCurrentWorkDataOnJSON()],{type:"text/plain"}),e=new Date;Object(m.saveAs)(t,e.toLocaleDateString()+"_"+this.project.name+"_modelos.json")},t.prototype.saveCurrentWork=function(){var t=this;this.setMigrationIndex(),this.sortModels(),this.saveProjectToBDD().then((function(e){t.toastr.successToastr("Proyecto Guardado en la Base De Datos","Guardado"),t.loadMyProjects()})).catch((function(t){console.log(t)}))},t.prototype.buildCurrentWorkDataOnJSON=function(){var t=[];this.modelos.forEach((function(e){t.push(e)}));var e="SQL";this.isSQLBDD||(e="noSQL");var n={moduleName:this.project.name,date:this.project.date.toDateString(),modelos:t,type:e,relaciones:this.relaciones,attachments:this.project.attachments};return JSON.stringify(n)},t.prototype.changeTabActive=function(t){this.process_step=Number.parseInt(t.nextId),this.saveRelationShips()},t.prototype.createNewRelationship=function(){this.relaciones.push(new u)},t.prototype.saveRelationShips=function(){var t=this;this.modelos.forEach((function(t){t.RelationShip=[]})),this.modelos.forEach((function(e){t.relaciones.forEach((function(t){t.fromSingular===e.Table.nameSingular&&(t.fromPlural=e.Table.namePlural),t.toSingular===e.Table.nameSingular&&(t.toPlural=e.Table.namePlural),"User"===t.toSingular&&(t.toPlural="Users"),"User"===t.fromSingular&&(t.fromPlural="Users")}))})),this.relaciones.forEach((function(e){t.modelos.forEach((function(t){if(e.fromSingular===t.Table.nameSingular||e.toSingular===t.Table.nameSingular){var n=!1;t.RelationShip.forEach((function(t){e===t&&(n=!0)})),n||t.RelationShip.push(e)}}))}))},t.prototype.deleteRelationship=function(t){var e=[];this.relaciones.forEach((function(n){n!=t&&e.push(n)})),this.relaciones=e},t.prototype.selectProjectBDD=function(t){this.selectedProjectBDD=t},t.prototype.checkModels=function(){var t=[],e=!1;return this.modelos.forEach((function(e){e.estilo="normalModelo",t.push(e)})),this.modelos.forEach((function(n){var o=0;t.forEach((function(t){n.Table.nameSingular===t.Table.nameSingular&&o++})),o>1&&(n.estilo="duplicadoModelo",e=!0)})),e},t.prototype.checkRelationships=function(){var t=!1,e=[];return this.relaciones.forEach((function(t){e.push(t),t.estilo="normalRelacion"})),this.relaciones.forEach((function(n){var o=0;e.forEach((function(t){(n.fromSingular===t.fromSingular&&n.toSingular===t.toSingular||n.fromSingular===t.toSingular&&n.toSingular===t.fromSingular)&&o++})),o>1&&(n.estilo="duplicadoRelacion",t=!0),n.fromSingular===n.toSingular&&(n.estilo="errorRelacion",t=!0)})),this.saveRelationShips(),t},t.prototype.buildMany2ManyRelationships=function(t){var e=[];return this.relaciones.forEach((function(n){"many2many"===n.kind&&e.push({relacion:n,type:t})})),e},t.prototype.buildAll=function(t){var e=this;if(this.checkModels())this.toastr.errorToastr("Existen modelos con nombres duplicados","Oops...");else if(this.checkRelationships())this.toastr.errorToastr("Existe error con la definici\xf3n de alguna de las relaciones","Oops...");else{this.saveCurrentWork();var n="noSQL";this.isSQLBDD&&(n="SQL");var o={models:this.modelos,relationships:this.buildMany2ManyRelationships(t),type:t,bddType:n,moduleName:this.project.name};"metro"==t&&(this.pendienteMetro=!0),"bootstrap"==t&&(this.pendienteBootstrap=!0),this.codeGeneratorDataService.buildAll(o).then((function(n){var o=n,i=new Date;e.downloadFile(o.file,"application/zip",e.project.name.split(" ").join("_")+"_"+i.getFullYear()+"_"+(i.getMonth()+1)+"_"+i.getDate()+".zip"),e.log_result=[],o.log.forEach((function(t){e.log_result.push(void 0===t.Name?{log:t,type:"Relationship"}:{log:t,type:"Model"})})),"metro"==t&&(e.pendienteMetro=!1),"bootstrap"==t&&(e.pendienteBootstrap=!1)})).catch((function(t){console.log(t)}))}},t.prototype.setMigrationIndex=function(){var t=this,e=[],n=[];for(this.modelos.forEach((function(t){n.push(t)})),n.forEach((function(t){var n=!0;t.MigrationIndex=0,t.RelationShip.forEach((function(e){e.toSingular!=t.Table.nameSingular||"one2one"!=e.kind&&"one2many"!=e.kind&&"embedsone"!=e.kind&&"embedsmany"!=e.kind||(n=!1)})),n&&e.push(t)})),n=this.multipleArraySplice(n,e);n.length>0;)n.forEach((function(t){var o=!0;t.MigrationIndex=t.MigrationIndex+1,t.RelationShip.forEach((function(e){var i=!0;e.toSingular!=t.Table.nameSingular||"one2one"!=e.kind&&"one2many"!=e.kind&&"embedsone"!=e.kind&&"embedsmany"!=e.kind||(n.forEach((function(t){t.Table.nameSingular==e.fromSingular&&(i=!1)})),i||(o=!1))})),o&&e.push(t)})),n=this.multipleArraySplice(n,e);e.forEach((function(e){t.modelos.forEach((function(t){t.Table.nameSingular==e.Table.nameSingular&&(t.MigrationIndex=e.MigrationIndex)}))}))},t.prototype.multipleArraySplice=function(t,e){var n=[];return t.forEach((function(t){var o=!1;e.forEach((function(e){t==e&&(o=!0)})),o||n.push(t)})),n},t.prototype.saveProjectToBDD=function(){this.project.project_type_id=1,this.project.user_id=this.userData.id;var t=[];this.modelos.forEach((function(e){t.push(e)}));var e="SQL";this.isSQLBDD||(e="noSQL");var n={moduleName:this.project.name,date:this.project.date.toDateString(),modelos:t,type:e,relaciones:this.relaciones};return this.project.structure=JSON.stringify(n),0==this.project.id?this.projectDataService.post(this.project):this.projectDataService.put(this.project)},t.prototype.CodificarArchivoAttachment=function(t){var e=this,n=new FileReader;if(t.target.files&&t.target.files.length>0){var o=t.target.files[0];n.readAsDataURL(o),n.onload=function(){var t=new a.a;t.project_attachment_file_name=o.name,t.project_attachment_file_type=o.type,t.project_attachment_file=n.result.toString().split(",")[1],e.project.attachments.push(t)}}},t.prototype.deleteAttachment=function(t){var e=[];this.project.attachments.forEach((function(n){n!=t&&e.push(n)})),this.project.attachments=e},t.prototype.downloadAttachment=function(t){this.downloadFile(t.project_attachment_file.toString(),t.project_attachment_file_type.toString(),t.project_attachment_file_name.toString())},t.prototype.downloadFile=function(t,e,n){for(var o=atob(t),i=new Array(o.length),c=0;c<o.length;c++)i[c]=o.charCodeAt(c);var a=new Uint8Array(i),r=new Blob([a],{type:e});Object(m.saveAs)(r,n)},t.prototype.CodificarArchivo=function(t){var e=this,n=new FileReader;t.target.files&&t.target.files.length>0&&(n.readAsDataURL(t.target.files[0]),n.onload=function(){e.newProject();var t=n.result.toString().split(",")[1],o=JSON.parse(decodeURIComponent(escape(atob(t))));e.project=new h.a,e.project.structure=JSON.stringify(o),"SQL"==o.type||void 0===o.type||null==o.type?(e.isSQLBDD=!0,e.project.project_type_id=1):(e.isSQLBDD=!1,e.project.project_type_id=2),e.modelos=o.modelos,e.relaciones=o.relaciones,e.project.attachments=void 0===o.attachments||null==o.attachments?[]:o.attachments,e.project.name=void 0===o.moduleName||null==o.moduleName?"":o.moduleName,e.project.date=void 0===o.date||null==o.date?new Date:new Date(o.date),e.saveRelationShips(),e.sortModels()})},t.prototype.createNewModel=function(){var t=new g;t.Table.nameSingular="",t.Table.namePlural="",t.MigrationIndex=this.getMaxOrder(),this.modelos.push(t),this.sortModels()},t.prototype.getMaxOrder=function(){var t=0;return this.modelos.forEach((function(e){e.MigrationIndex>t&&(t=e.MigrationIndex)})),t},t.prototype.selectModel=function(t){this.selectedModel=t},t.prototype.checkIfColumnHasSize=function(t){t.hasSize=this.hasSize(t.type)},t.prototype.deleteColumn=function(t){var e=[];this.selectedModel.Columns.forEach((function(n){n!=t&&e.push(n)})),this.selectedModel.Columns=e},t.prototype.addAttributeAttachment=function(){if(!this.selectedModel.esAdjunto){this.selectedModel.esAdjunto=!0;var t=new p;t.name=this.selectedModel.Table.nameSingular+"FileType",t.hasSize=!0,t.group="fillable",t.size=50,t.canNull=!0,t.type="string",this.selectedModel.Columns.push(t),(t=new p).name=this.selectedModel.Table.nameSingular+"FileName",t.hasSize=!0,t.group="fillable",t.size=255,t.canNull=!0,t.type="string",this.selectedModel.Columns.push(t),(t=new p).name=this.selectedModel.Table.nameSingular+"File",t.hasSize=!1,t.group="fillable",t.canNull=!0,t.type="longText",this.selectedModel.Columns.push(t)}},t.prototype.cloneColumn=function(t){this.selectedModel.Columns.push(t)},t.prototype.hasSize=function(t){var e=!1;return this.dataTypes.forEach((function(n){n.name===t&&(e=n.hasSize)})),e},t.prototype.DeleteModel=function(t){var e=[];this.modelos.forEach((function(n){n!=t&&e.push(n)})),this.modelos=e,this.selectedModel=new g,this.sortModels()},t.prototype.sortModels=function(){this.modelos.sort((function(t,e){return t.MigrationIndex<e.MigrationIndex?1:t.MigrationIndex>e.MigrationIndex?-1:0}))},t.prototype.addAttribute=function(){this.selectedModel.Columns.push(new p)},t.\u0275fac=function(e){return new(e||t)(s.Nb(R.e),s.Nb(v.a),s.Nb(d),s.Nb(r.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-project-builder"]],viewQuery:function(t,e){var n;1&t&&(s.Hc(M,!0),s.Hc(y,!0)),2&t&&(s.sc(n=s.fc())&&(e.pasos=n.first),s.sc(n=s.fc())&&(e.descargar=n.first))},decls:32,vars:9,consts:[["type","file","accept",".json",1,"form-control",3,"hidden","change"],["fileInput",""],["type","file","accept","*.*",1,"form-control",3,"hidden","change"],["fileInputAttachment",""],[1,"row"],[1,"col-12"],[1,"btn-toolbar"],["role","group",1,"btn-group","mr-2"],["type","button","title","Nuevo",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-file"],["type","button","title","Cargar Desde Archivo",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-upload"],["type","button","title","Cargar Desde BDD",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-cloud-upload-alt"],["type","button","title","Guardar Trabajo Actual",1,"btn","btn-secondary",3,"disabled","click"],[1,"fas","fa-save"],["type","button","title","Exportar Trabajo Actual",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-download"],["class","btn-group mr-2","role","group",4,"ngIf"],[1,"row","mt-2"],[3,"tabChange"],["pasos",""],["title","Paso 1.- Datos del Proyecto","id","1"],["ngbTabContent",""],["title","Paso 2.- Dise\xf1o de los Modelos/Objetos","id","2",4,"ngIf"],["title","Paso 3.- Relaciones entre los Modelos/Objetos","id","3",4,"ngIf"],["title","Paso 4.- Selecci\xf3n de la Presentaci\xf3n","id","4",4,"ngIf"],["title","Paso 5.- Resultados","id","5",4,"ngIf"],["class","row mt-2",4,"ngIf"],["MyProjectsOnBDD",""],["type","button","title","Explorar BDD Existente",1,"btn","btn-secondary"],[1,"fas","fa-diagnoses"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","mt-4"],["type","button","title","Nuevo Adjunto",1,"btn","btn-success",3,"click"],[1,"fas","fa-plus-circle"],[1,"form-control"],[1,"table","table-condensed","table-hover","mt-2"],[4,"ngFor","ngForOf"],["type","button","title","Eliminar",1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash"],["type","button","title","Descargar Archivo",1,"btn","btn-success",3,"click"],["title","Paso 2.- Dise\xf1o de los Modelos/Objetos","id","2"],["class","col-5",4,"ngIf"],[3,"class",4,"ngIf"],[1,"col-5"],[1,"row","mb-3"],["type","button","title","Nuevo Modelo/Objeto",1,"btn","btn-success",3,"click"],[1,"input-group-append"],["type","button","title","Validar",1,"btn","btn-info",3,"click"],[1,"fas","fa-check-double"],[1,"col-12",2,"overflow","auto","height","500px"],["class","col-12 mb-1",4,"ngFor","ngForOf"],[1,"col-12","mb-1"],[3,"class","click",4,"ngIf"],[1,"fas","fa-trash-alt"],[3,"click"],["type","button","class","btn btn-dark","title","Ocultar Modelos",3,"click",4,"ngIf"],["type","button","class","btn btn-dark","title","Mostrar Modelos",3,"click",4,"ngIf"],[1,"col-6"],["class","row mt-4",4,"ngIf"],["class","row",4,"ngIf"],["type","button","title","Ocultar Modelos",1,"btn","btn-dark",3,"click"],[1,"fas","fa-angle-double-left"],["type","button","title","Mostrar Modelos",1,"btn","btn-dark",3,"click"],[1,"fas","fa-angle-double-right"],["type","button","title","Nuevo Campo/Atributo",1,"btn","btn-success",3,"click"],["type","button","title","Nuevo Campo/Atributo",1,"btn","btn-primary",3,"click"],[1,"fas","fa-paperclip"],[1,"col-12",2,"overflow","auto","height","400px"],[1,"table","table-condensed","mt-2"],["type","text","placeholder","Nombre del Campo",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["type","number","class","form-control","placeholder","Tama\xf1o del Campo",3,"ngModel","ngModelChange",4,"ngIf"],["class","col-12 text-center",4,"ngIf"],[1,"form-control",3,"ngModel","ngModelChange"],["value","fillable"],["value","hidden"],[1,"onoffswitch"],["type","checkbox",1,"onoffswitch-checkbox",3,"id","ngModel","ngModelChange"],[1,"onoffswitch-label",3,"for"],[1,"onoffswitch-inner"],[1,"onoffswitch-switch"],["role","toolbar",1,"btn-toolbar","mr-2"],["type","button","title","Borrar Campo/Atributo",1,"btn","btn-danger",3,"click"],[1,"fas","fa-eraser"],["type","button","title","Duplicar Campo/Atributo",1,"btn","btn-warning",3,"click"],[1,"fas","fa-clone"],[3,"value"],["type","number","placeholder","Tama\xf1o del Campo",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","text-center"],["title","Paso 3.- Relaciones entre los Modelos/Objetos","id","3"],[1,"row","mt-2","mb-3"],[1,"row","mb-2"],["type","checkbox","id","tipoBDD",1,"onoffswitch-checkbox",3,"ngModel","ngModelChange"],["for","tipoBDD",1,"onoffswitch-label"],[3,"class",4,"ngFor","ngForOf"],["value",""],["value","User"],["value","one2one",4,"ngIf"],["value","one2many",4,"ngIf"],["value","many2many",4,"ngIf"],["value","embedsone",4,"ngIf"],["value","embedsmany",4,"ngIf"],["type","button","title","Borrar Campo",1,"btn","btn-danger",3,"click"],["value","one2one"],["value","one2many"],["value","many2many"],["value","embedsone"],["value","embedsmany"],["title","Paso 4.- Selecci\xf3n de la Presentaci\xf3n","id","4"],[1,"col-4"],[1,"card","col-12"],["src","assets/images/frontends/bootstrap.png","alt","Bootstrap",1,"card-img-top","rounded","mt-2"],[1,"card-body"],[1,"card-title"],[1,"card-text","text-justify"],["href","https://getbootstrap.com/","target","_blank","title","Aprender M\xe1s",1,"text-primary"],["class","row mb-2",4,"ngIf"],[1,"col-12","text-left"],["type","button","title","Construir",1,"btn","btn-primary","mr-2",3,"disabled","click"],["src","assets/images/frontends/metroui.png","alt","Bootstrap",1,"card-img-top","rounded","mt-2"],["href","https://metroui.org.ua/","target","_blank","title","Aprender M\xe1s",1,"text-primary"],[1,"progress"],["role","progressbar",1,"progress-bar","progress-bar-striped","progress-bar-animated",2,"width","100%"],["title","Paso 5.- Resultados","id","5"],["class","row mt-2",4,"ngFor","ngForOf"],[1,"col-12",3,"ngSwitch"],["class","row",4,"ngSwitchCase"],[1,"table","table-bordered","table-condensed","mt-2"],[1,"text-center"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"badge","badge-success"],[1,"badge","badge-danger"],["colspan","6",1,"text-center"],["colspan","3",1,"text-center"],["class","text-danger col-12 text-center mb-2",4,"ngIf"],["type","button","class","btn btn-dark mr-2","disabled","",4,"ngIf"],["type","button","class","btn btn-dark mr-2",3,"click",4,"ngIf"],["type","button","class","btn btn-dark ml-2","disabled","",4,"ngIf"],["type","button","class","btn btn-dark ml-2",3,"click",4,"ngIf"],[1,"text-danger","col-12","text-center","mb-2"],["type","button","disabled","",1,"btn","btn-dark","mr-2"],["type","button",1,"btn","btn-dark","mr-2",3,"click"],["type","button","disabled","",1,"btn","btn-dark","ml-2"],["type","button",1,"btn","btn-dark","ml-2",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],[1,"col-12",2,"max-height","300px","overflow-x","hidden","overflow-y","auto"],[3,"click","dblclick",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],[3,"click","dblclick"],[1,"text-right"],["class","far fa-hand-point-right",4,"ngIf"],[1,"far","fa-hand-point-right"]],template:function(t,e){if(1&t){var n=s.Tb();s.Sb(0,"input",0,1),s.ec("change",(function(t){return e.CodificarArchivo(t)})),s.Rb(),s.Sb(2,"input",2,3),s.ec("change",(function(t){return e.CodificarArchivoAttachment(t)})),s.Rb(),s.Sb(4,"div",4),s.Sb(5,"div",5),s.Sb(6,"div",6),s.Sb(7,"div",7),s.Sb(8,"button",8),s.ec("click",(function(t){return e.newProject()})),s.Ob(9,"i",9),s.Rb(),s.Sb(10,"button",10),s.ec("click",(function(t){return s.uc(n),s.tc(1).click()})),s.Ob(11,"i",11),s.Rb(),s.Sb(12,"button",12),s.ec("click",(function(t){s.uc(n);var o=s.tc(31);return e.loadProjectFromDatabase(o)})),s.Ob(13,"i",13),s.Rb(),s.Sb(14,"button",14),s.ec("click",(function(t){return e.saveCurrentWork()})),s.Ob(15,"i",15),s.Rb(),s.Sb(16,"button",16),s.ec("click",(function(t){return e.downloadCurrentWork()})),s.Ob(17,"i",17),s.Rb(),s.Rb(),s.Bc(18,D,3,0,"div",18),s.Rb(),s.Rb(),s.Rb(),s.Sb(19,"div",19),s.Sb(20,"div",5),s.Sb(21,"ngb-tabset",20,21),s.ec("tabChange",(function(t){return e.changeTabActive(t)})),s.Sb(23,"ngb-tab",22),s.Bc(24,k,36,6,"ng-template",23),s.Rb(),s.Bc(25,$,2,0,"ngb-tab",24),s.Bc(26,Y,2,0,"ngb-tab",25),s.Bc(27,tt,2,0,"ngb-tab",26),s.Bc(28,Rt,2,0,"ngb-tab",27),s.Rb(),s.Bc(29,kt,7,5,"div",28),s.Rb(),s.Rb(),s.Bc(30,Ct,18,1,"ng-template",null,29,s.Cc)}2&t&&(s.lc("hidden",!0),s.Ab(2),s.lc("hidden",!0),s.Ab(12),s.lc("disabled",""==e.project.name),s.Ab(4),s.lc("ngIf",!1),s.Ab(7),s.lc("ngIf",!(""==e.project.name&&0==e.modelos.length)),s.Ab(1),s.lc("ngIf",!(""==e.project.name&&0==e.modelos.length)),s.Ab(1),s.lc("ngIf",!(""==e.project.name&&0==e.modelos.length)),s.Ab(1),s.lc("ngIf",e.log_result.length>0),s.Ab(1),s.lc("ngIf",e.process_step<5))},directives:[i.l,R.j,R.h,R.i,o.b,o.f,o.i,i.k,o.l,o.j,o.m,o.a,o.k,i.m,i.n],pipes:[i.d],styles:['.onoffswitch[_ngcontent-%COMP%]{position:relative;width:90px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.onoffswitch-checkbox[_ngcontent-%COMP%]{display:none}.onoffswitch-label[_ngcontent-%COMP%]{display:block;overflow:hidden;cursor:pointer;border:2px solid #999;border-radius:20px}.onoffswitch-inner[_ngcontent-%COMP%]{display:block;width:200%;margin-left:-100%;-webkit-transition:margin .3s ease-in 0s;transition:margin .3s ease-in 0s}.onoffswitch-inner[_ngcontent-%COMP%]:after, .onoffswitch-inner[_ngcontent-%COMP%]:before{display:block;float:left;width:50%;height:30px;padding:0;line-height:30px;font-size:14px;color:#fff;font-family:Trebuchet,Arial,sans-serif;font-weight:700;box-sizing:border-box}.onoffswitch-inner[_ngcontent-%COMP%]:before{content:"SI";padding-left:21px;background-color:#5ebd79;color:#fff}.onoffswitch-inner[_ngcontent-%COMP%]:after{content:"NO";padding-right:21px;background-color:#eee;color:#999;text-align:right}.onoffswitch-switch[_ngcontent-%COMP%]{display:block;width:30px;margin:0;background:#fff;position:absolute;top:0;bottom:0;right:56px;border:2px solid #999;border-radius:20px;-webkit-transition:all .3s ease-in 0s;transition:all .3s ease-in 0s}.onoffswitch-checkbox[_ngcontent-%COMP%]:checked + .onoffswitch-label[_ngcontent-%COMP%]   .onoffswitch-inner[_ngcontent-%COMP%]{margin-left:0}.onoffswitch-checkbox[_ngcontent-%COMP%]:checked + .onoffswitch-label[_ngcontent-%COMP%]   .onoffswitch-switch[_ngcontent-%COMP%]{right:0}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#218838}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #218838}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(26px);transform:translateX(26px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.duplicadoRelacion[_ngcontent-%COMP%]{background-color:#ff0}.errorRelacion[_ngcontent-%COMP%]{background-color:red}.normalRelacion[_ngcontent-%COMP%]{background-color:none}.duplicadoModelo[_ngcontent-%COMP%]{background-color:red}.normalModelo[_ngcontent-%COMP%]{background-color:none}']}),t}()}],It=function(){function t(){}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(e){return new(e||t)},imports:[[c.f.forChild(jt)],c.f]}),t}();n.d(e,"ProjectBuilderModule",(function(){return _t}));var _t=function(){function t(){}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(e){return new(e||t)},providers:[d,r.a],imports:[[i.b,It,o.c,R.f]]}),t}()}}]);